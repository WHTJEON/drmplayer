(function(e){function t(t){for(var n,s,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={app:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/abr-player/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0a0b":function(e,t,a){},"0ca6":function(e,t,a){"use strict";a("b24d")},1:function(e,t){},"106f":function(e,t,a){},"160f":function(e,t,a){},2:function(e,t){},"3eec":function(e,t,a){},"42b7":function(e,t,a){},"4bfc":function(e,t,a){"use strict";a("edac")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Header"),a("Player"),a("Footer")],1)},r=[],s=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header container"},[a("h1",[e._v("hype drm player")])])}],l={name:"Header"},c=l,u=(a("4bfc"),a("2877")),d=Object(u["a"])(c,s,o,!1,null,"d687592a",null),p=d.exports,h=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},f=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer"},[a("ul",[a("li",[e._v("Hosted by "),a("a",{attrs:{href:"https://github.com/WHTJEON"}},[e._v("vank0n")])])])])}],m={name:"Footer"},v=m,y=(a("832b"),Object(u["a"])(v,h,f,!1,null,"3317417b",null)),g=y.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"player container"},[a("div",{staticClass:"video-container"},[a("video",{ref:"video",attrs:{controls:e.controls,autoPlay:e.autoplay}}),e.video&&"ShakaPlayer"===e.selectedPlayer?a("ShakaPlayer",{ref:"player",attrs:{video:e.video},on:{tracks:e.onGetTracks,stats:e.onStats,buffer:e.onBuffer,log:e.log}}):e.video&&"HasPlayer"===e.selectedPlayer?a("HasPlayer",{ref:"player",attrs:{video:e.video},on:{tracks:e.onGetTracks,stats:e.onStats,buffer:e.onBuffer,log:e.log}}):e.video&&"DashjsPlayer"===e.selectedPlayer?a("DashjsPlayer",{ref:"player",attrs:{video:e.video},on:{tracks:e.onGetTracks,stats:e.onStats,buffer:e.onBuffer,log:e.log}}):e.video&&"HlsjsPlayer"===e.selectedPlayer?a("HlsjsPlayer",{ref:"player",attrs:{video:e.video},on:{tracks:e.onGetTracks,stats:e.onStats,buffer:e.onBuffer,log:e.log}}):e._e()],1),a("Controls",{attrs:{video:this.$refs.video},on:{play:e.play,pause:e.pause}}),a("Probe",{attrs:{player:e.selectedPlayer,info:e.probe}}),a("Settings",{on:{load:e.load,unload:e.unload,changePlayer:e.onChangePlayer}}),a("Tracks",{attrs:{tracks:e.tracks,stats:e.stats,buffer:e.buffer},on:{changeTrack:e.onChangeTrack,onEnableAdaptationChange:e.onEnableAdaptation}}),a("Stats",{attrs:{stats:e.stats,buffer:e.buffer}}),a("Log",{attrs:{logs:e.logs}})],1)},P=[],k=(a("a15b"),a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"controls player-controls"},[e.playing?a("button",{staticClass:"material-icons",on:{click:e.pause}},[e._v("pause_arrow")]):a("button",{staticClass:"material-icons",on:{click:e.play}},[e._v("play_arrow")]),a("input",{staticClass:"seekBar",attrs:{type:"range",step:"any",min:"0",max:e.duration},domProps:{value:e.currentTime},on:{change:e.onSeekChange}}),a("button",{staticClass:"rewindButton material-icons"},[e._v("fast_rewind")]),a("div",{staticClass:"currentTime"},[e._v(e._s(e.timeString)+" / "+e._s(e.durationString))]),a("button",{staticClass:"fastForwardButton material-icons"},[e._v("fast_forward")]),a("button",{staticClass:"muteButton material-icons",on:{click:e.setMute}},[e._v(e._s(0===e.volume?"volume_mute":"volume_up")+" ")]),a("input",{staticClass:"volumeBar",style:{background:"linear-gradient(to right, rgb(204, 204, 204) "+100*e.volume+"%, rgb(0, 0, 0) "+100*e.volume+"%, rgb(0, 0, 0) 100%)"},attrs:{type:"range",step:"any",min:"0",max:"1"},domProps:{value:e.volume},on:{change:e.onVolumeChange}})])}),S=[],_=a("1da1"),w=(a("96cf"),a("1276"),a("ac1f"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("159b"),{buildTimeString:function(e,t){var a=Math.floor(e/3600),n=Math.floor(e/60%60),i=Math.floor(e%60);i<10&&(i="0".concat(i));var r="".concat(n,":").concat(i);return t&&(n<10&&(r="0".concat(r)),r="".concat(a,":").concat(r)),r},probeSupport:function(){return w.probeDrm().then((function(e){var t=w.probeMedia(),a={media:t,drm:e};return a}))},probeMedia:function(){var e={},t=['video/mp4; codecs="avc1.42E01E"','video/mp4; codecs="avc3.42E01E"','video/mp4; codecs="hev1.1.6.L93.90"','video/mp4; codecs="hvc1.1.6.L93.90"','video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084"','video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084"','video/mp4; codecs="vp9"','video/mp4; codecs="vp09.00.10.08"','audio/mp4; codecs="mp4a.40.2"','audio/mp4; codecs="ac-3"','audio/mp4; codecs="ec-3"','audio/mp4; codecs="opus"','audio/mp4; codecs="flac"','video/webm; codecs="vp8"','video/webm; codecs="vp9"','video/webm; codecs="vp09.00.10.08"','audio/webm; codecs="vorbis"','audio/webm; codecs="opus"','video/mp2t; codecs="avc1.42E01E"','video/mp2t; codecs="avc3.42E01E"','video/mp2t; codecs="hvc1.1.6.L93.90"','video/mp2t; codecs="mp4a.40.2"','video/mp2t; codecs="ac-3"','video/mp2t; codecs="ec-3"',"text/vtt",'application/mp4; codecs="wvtt"',"application/ttml+xml",'application/mp4; codecs="stpp"'];return t.forEach((function(t){e[t]=MediaSource.isTypeSupported(t);var a=t.split(";")[0];e[a]=e[a]||e[t]})),e},probeDrm:function(){var e=["org.w3.clearkey","com.widevine.alpha","com.microsoft.playready","com.apple.fps.2_0","com.apple.fps.1_0","com.apple.fps","com.adobe.primetime"],t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],a={videoCapabilities:t},n={videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},i=[n,a],r=new Map,s=function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.requestMediaKeySystemAccess(t,i);case 3:return a=e.sent,r.set(t,!0),e.next=7,a.createMediaKeys();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),r.set(t,!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),o=e.map((function(e){return s(e)}));return Promise.all(o).then((function(){return w.asObject(r)}))},asObject:function(e){var t={};return e.forEach((function(e,a){t[a]=e})),t}}),E=w,T=(a("0a0b"),{name:"controls",components:{},props:["video"],data:function(){return{player:null,loaded:!1,playing:!1,seeking:!1,duration:0,currentTime:0,volume:.7,savedVolume:.7,muted:!1}},computed:{timeString:function(){return E.buildTimeString(this.currentTime)},durationString:function(){return E.buildTimeString(this.duration)}},watch:{video:function(){this.player=this.video,this.init()}},created:function(){},mounted:function(){},methods:{init:function(){this.player.volume=this.volume,this.setPlayerEvents()},setPlayerEvents:function(){this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("durationchange",this.onDurationChange),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("volumechange",this.onVolumeChange)},play:function(){this.player.play()},pause:function(){this.player.pause()},stop:function(){this.player.stop()},seekTo:function(e){this.player.currentTime=e},setMute:function(){this.muted=!this.muted,this.muted?(this.savedVolume=this.volume,this.volume=0):this.volume=this.savedVolume,this.player.volume=this.volume},onPlaying:function(){this.playing=!0},onPause:function(){this.playing=!1},onSeekChange:function(e){this.seeking=!0,e.target&&e.target.value&&this.seekTo(e.target.value)},onVolumeChange:function(e){e.target&&e.target.value?(this.player.volume=parseFloat(e.target.value),this.volume=parseFloat(e.target.value)):e.target&&e.target.volume&&(this.player.volume=parseFloat(e.target.volume),this.volume=parseFloat(e.target.volume)),this.muted=0===this.volume},onDurationChange:function(e){this.duration=e.target.duration},onTimeUpdate:function(e){this.currentTime=e.target.currentTime}}}),A=T,C=(a("d137"),Object(u["a"])(A,k,S,!1,null,"51e72158",null)),L=C.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tracks"},[e.tracks.length>0?a("div",[a("label",{attrs:{for:"tracks"}},[e._v("Tracks")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTrack,expression:"selectedTrack"}],staticClass:"u-full-width",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedTrack=t.target.multiple?a:a[0]},function(t){return e.$emit("changeTrack",e.selectedTrack)}]}},e._l(e.tracks,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),a("label",{attrs:{for:"checkbox"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.enableAdaptation,expression:"enableAdaptation"}],attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(e.enableAdaptation)?e._i(e.enableAdaptation,null)>-1:e.enableAdaptation},on:{change:[function(t){var a=e.enableAdaptation,n=t.target,i=!!n.checked;if(Array.isArray(a)){var r=null,s=e._i(a,r);n.checked?s<0&&(e.enableAdaptation=a.concat([r])):s>-1&&(e.enableAdaptation=a.slice(0,s).concat(a.slice(s+1)))}else e.enableAdaptation=i},function(t){return e.$emit("onEnableAdaptationChange",e.enableAdaptation)}]}}),a("span",{staticClass:"label-body"},[e._v("Enable Adaptation")])])]):e._e()])},x=[],D=(a("7db0"),{name:"tracks",props:["tracks"],data:function(){return{selectedTrack:"",enableAdaptation:!0}},watch:{tracks:function(){this.selectedTrack=this.tracks.find((function(e){return e.active})).id}}}),$=D,H=Object(u["a"])($,j,x,!1,null,"ad924fc0",null),M=H.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settings"},[a("h4",[e._v("Settings")]),a("div",{staticClass:"row"},[a("div",{staticClass:"four columns"},[a("label",{attrs:{for:"player"}},[e._v("Player")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlayer,expression:"selectedPlayer"}],staticClass:"u-full-width",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPlayer=t.target.multiple?a:a[0]},function(t){return e.$emit("changePlayer",e.selectedPlayer)}]}},e._l(e.players,(function(t){return a("option",{key:t.id,domProps:{value:t.component}},[e._v(e._s(t.name))])})),0)]),a("div",{staticClass:"eight columns"},[a("label",{attrs:{for:"drm"}},[e._v("Select Media")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedMedia,expression:"selectedMedia"}],staticClass:"u-full-width",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedMedia=t.target.multiple?a:a[0]}}},e._l(e.sources.items,(function(t){return a("optgroup",{key:t.id,attrs:{label:t.name}},e._l(t.submenu,(function(t){return a("option",{key:t.id,domProps:{value:{name:t.name,url:t.url}}},[e._v(e._s(t.name))])})),0)})),0)])]),"Custom"===e.selectedMedia.name||e.isCustom?a("div",[a("label",[e._v("Media URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedMedia.url,expression:"selectedMedia.url"}],staticClass:"u-full-width",attrs:{type:"text"},domProps:{value:e.selectedMedia.url},on:{input:function(t){t.target.composing||e.$set(e.selectedMedia,"url",t.target.value)}}}),a("label",[e._v("License Server URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.licenseUrl,expression:"licenseUrl"}],staticClass:"u-full-width",attrs:{type:"text"},domProps:{value:e.licenseUrl},on:{input:function(t){t.target.composing||(e.licenseUrl=t.target.value)}}}),a("label",{attrs:{for:"drm"}},[e._v("DRM")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.drm,expression:"drm"}],staticClass:"u-full-width",attrs:{id:"drm"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.drm=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"none"}},[e._v("None")]),a("option",{attrs:{value:"widevine"}},[e._v("Widevine")]),a("option",{attrs:{value:"playready"}},[e._v("PlayReady")])])]):e._e(),a("div",{staticClass:"control-buttons"},[a("button",{staticClass:"button-primary",on:{click:function(t){return e.$emit("load",{url:e.selectedMedia.url,licenseUrl:e.licenseUrl,drm:e.drm})}}},[e._v(" Load Media ")]),a("button",{on:{click:function(t){return e.$emit("unload")}}},[e._v("Unload")])])])},B=[],U={defaultMedia:{name:"Tears of Steel (DASH Widevine)",url:"https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel-dash-widevine.ism/.mpd"},defaultLicenseUrl:"https://cwip-shaka-proxy.appspot.com/no_auth",defaultDrm:"widevine",players:[{name:"Shaka Player",component:"ShakaPlayer"},{name:"HasPlayer.js",component:"HasPlayer"},{name:"dash.js",component:"DashjsPlayer"},{name:"hls.js",component:"HlsjsPlayer"}],defaultLicenseServers:{"com.microsoft.playready":"https://test.playready.microsoft.com/service/rightsmanager.asmx?PlayRight=1&UseSimpleNonPersistentLicense=1","com.widevine.alpha":"https://cwip-shaka-proxy.appspot.com/no_auth"}},F=U,N=a("b66e"),R=F.defaultMedia,J=F.defaultLicenseUrl,q=F.defaultDrm,V=F.players,Q={name:"Settings",components:{},data:function(){return{sources:N,players:V,selectedPlayer:"ShakaPlayer",selectedMedia:R,licenseUrl:J,drm:q}},computed:{isCustom:function(){return this.$route.query.url||this.$route.query.licenseUrl||this.$route.query.drm}},mounted:function(){this.setQueryParams()},methods:{setQueryParams:function(){this.$route.query.url&&(this.selectedMedia.url=this.$route.query.url),this.$route.query.licenseUrl&&(this.licenseUrl=this.$route.query.licenseUrl),this.$route.query.drm&&(this.drm=this.$route.query.drm.toLowerCase())}}},I=Q,W=(a("0ca6"),Object(u["a"])(I,O,B,!1,null,"4cdf1fd4",null)),G=W.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"stats"},[a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",[e._v("Active Resolution")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.resolution))])]),a("tr",[a("td",[e._v("Bitrate")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.stats.bitrate))])])])])},K=[],Y={name:"stats",props:["stats","buffer"],data:function(){return{}},computed:{resolution:function(){return"".concat(this.stats.width||0," x ").concat(this.stats.height||0)}},methods:{}},X=Y,Z=Object(u["a"])(X,z,K,!1,null,"2e7fcf4e",null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shaka-player"})},ae=[],ne=(a("b0c0"),a("b680"),a("446e")),ie=a.n(ne),re={name:"ShakaPlayer",components:{},props:["video"],data:function(){return{player:null}},watch:{},computed:{},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.log("[ShakaPlayer] - init"),this.log("[ShakaPlayer] - version:",ie.a.Player.version),this.log("[ShakaPlayer] - isBrowserSupported:",ie.a.Player.isBrowserSupported()),ie.a.polyfill.installAll(),this.configure()},configure:function(){this.player=new ie.a.Player(this.video),this.setPlayerEvents()},setPlayerEvents:function(){this.player.addEventListener("adaptation",this.onAdaptationEvent),this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("timeupdate",this.onBufferedData)},load:function(e,t,a){var n=this;this.player||this.init(),a&&this.setProtection(t,a),this.player.load(e).then((function(){n.log("[ShakaPlayer] - video loaded"),n.getTracks()})).catch((function(e){n.log("[ShakaPlayer] - error ",e)}))},unload:function(){this.log("[ShakaPlayer] - unload"),this.video.removeEventListener("timeupdate",this.onTimeUpdate),this.video.removeEventListener("timeupdate",this.onBufferedData),this.player&&(this.player.unload(),this.player.destroy(),this.player=null)},destroy:function(){this.log("[ShakaPlayer] - destroy"),this.player&&(this.player.destroy(),this.player=null)},setProtection:function(e,t){var a="playready"===t&&e?e:F.defaultLicenseServers["com.microsoft.playready"],n="widevine"===t&&e?e:F.defaultLicenseServers["com.widevine.alpha"];this.player.configure({drm:{servers:{"com.microsoft.playready":a,"com.widevine.alpha":n}}})},selectTrack:function(e){this.log("[ShakaPlayer] - selectTrack",e),this.player.selectVariantTrack({id:e})},getTracks:function(){var e=this.player.getVariantTracks(),t=[];e.forEach((function(e){var a={id:e.id,name:e.bandwidth,active:e.active};t.push(a)})),t=t.sort((function(e,t){return e.name-t.name})),this.$emit("tracks",t)},enableAdaptation:function(e){this.log("[ShakaPlayer] - enableAdaptation",e),this.player.configure({abr:{enabled:e}})},onAdaptationEvent:function(){var e=this.player.getStats();this.log("[ShakaPlayer:onAdaptationEvent]",e.streamBandwidth),this.getTracks()},onTimeUpdate:function(){var e=this.player.getStats(),t={width:e.width,height:e.height,bitrate:e.streamBandwidth};this.$emit("stats",t)},onBufferedData:function(){for(var e=0,t=0,a=this.video,n=a.currentTime,i=a.buffered,r=0;r<i.length;r++)if(i.start(r)<=n&&i.end(r)>=n){t=i.end(r)-n,e=n-i.start(r);break}var s="- ".concat(e.toFixed(0),"s / + ").concat(t.toFixed(0),"s");this.$emit("buffer",s)},log:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$emit.apply(this,["log"].concat(t))}}},se=re,oe=(a("6605"),Object(u["a"])(se,te,ae,!1,null,"6e031542",null)),le=oe.exports,ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"has-player"})},ue=[],de=a("5058"),pe=a.n(de),he={name:"HasPlayer",components:{},props:["video"],data:function(){return{player:null}},watch:{},computed:{},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.log("[HasPlayer] - init"),this.player=new pe.a,this.player.init(this.video),this.log("[HasPlayer] - version:",this.player.getVersion()),this.log("[HasPlayer] - DashJS version:",this.player.getVersionDashJS())},configure:function(){},load:function(e,t,a){var n={url:e};a&&(n.protData=this.setProtData(t,a)),this.log("[HasPlayer - load",JSON.stringify(n)),this.player.load(n),this.setPlayerEvents()},setProtData:function(e,t){var a="playready"===t&&e?e:F.defaultLicenseServers["com.microsoft.playready"],n={"com.microsoft.playready":{laURL:a}};return n},setPlayerEvents:function(){this.player.addEventListener("play_bitrate",this.onAdaptationEvent),this.player.addEventListener("download_bitrate",this.onDownloadBitrate),this.player.addEventListener("bufferLevel_updated",this.onBufferLevel),this.video.addEventListener("loadeddata",this.onLoadedData)},unload:function(){this.log("[HasPlayer] - unload"),this.player&&(this.player.stop(),this.player=null)},destroy:function(){this.log("[HasPlayer] - destroy"),this.player&&(this.player.reset(),this.player=null)},selectTrack:function(e){this.log("[HasPlayer] - selectTrack",e),this.player.setQualityFor("video",e)},getTracks:function(){this.log("[HasPlayer] - getTracks");var e=this.player.getVideoBitrates(),t=e[this.player.getQualityFor("video")],a=[];e.forEach((function(e,n){var i={id:n,name:e,active:e===t};a.push(i)})),a=a.sort((function(e,t){return e.name-t.name})),this.$emit("tracks",a)},enableAdaptation:function(e){this.log("[HasPlayer] - enableAdaptation",e),this.player.setAutoSwitchQuality(e)},onLoadedData:function(e){this.log("[HasPlayer] - onLoadedData",JSON.stringify(e)),this.getTracks()},onAdaptationEvent:function(e){this.log("[HasPlayer:onAdaptationEvent]",JSON.stringify(e)),this.getTracks()},onDownloadBitrate:function(e){this.log("[HasPlayer:onDownloadBitrate]",JSON.stringify(e));var t={width:e.detail.width,height:e.detail.height,bitrate:e.detail.bitrate};this.$emit("stats",t)},onBufferLevel:function(e){var t={buffer:e.detail.level},a="+ ".concat(t.buffer.toFixed(0),"s");this.$emit("buffer",a)},log:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$emit.apply(this,["log"].concat(t))}}},fe=he,me=(a("c9c6"),Object(u["a"])(fe,ce,ue,!1,null,"2c91cf12",null)),ve=me.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashjs-player"})},ge=[],be=a("090c"),Pe=a.n(be),ke={name:"DashjsPlayer",props:["video"],data:function(){return{player:null,interval:null}},watch:{},computed:{},created:function(){},mounted:function(){this.init()},methods:{init:function(){this.log("[DashjsPlayer] - init"),this.player=Pe.a.MediaPlayer().create(),this.log("[DashjsPlayer] - version:",this.player.getVersion())},configure:function(){},setProtection:function(e,t){var a="playready"===t&&e?e:F.defaultLicenseServers["com.microsoft.playready"],n="widevine"===t&&e?e:F.defaultLicenseServers["com.widevine.alpha"],i={"com.widevine.alpha":{serverURL:n},"com.microsoft.playready":{serverURL:a}};this.player.setProtectionData(i)},load:function(e,t,a){this.player||this.init(),this.setProtection(t,a),this.player.initialize(this.video,e,!0),this.setPlayerEvents(),this.setMetricInterval()},setPlayerEvents:function(){this.video.addEventListener("loadeddata",this.onLoadedData),this.player.on(Pe.a.MediaPlayer.events.QUALITY_CHANGE_RENDERED,this.onAdaptationEvent)},setMetricInterval:function(){var e=this;this.interval=setInterval((function(){e.updateMetrics()}),2e3)},selectTrack:function(e){this.log("[DashjsPlayer] - selectTrack",e),this.player.setQualityFor("video",e)},getTracks:function(){this.log("[DashjsPlayer] - getTracks");var e=this.player.getBitrateInfoListFor("video"),t=this.player.getQualityFor("video"),a=[];e.forEach((function(e){var n={id:e.qualityIndex,name:e.bitrate,active:e.qualityIndex===t};a.push(n)})),a=a.sort((function(e,t){return e.name-t.name})),this.$emit("tracks",a)},enableAdaptation:function(e){this.log("[DashjsPlayer] - enableAdaptation",e),this.player.setAutoSwitchQualityFor("video",e)},updateMetrics:function(){var e=this.player.getDashMetrics(),t=this.player.getQualityFor("video"),a=e.getCurrentBufferLevel("video"),n=this.player.getCurrentTrackFor("video"),i=n.bitrateList,r=i[t],s=r.width,o=r.height,l=r.bandwidth,c={buffer:a,width:s,height:o,bitrate:l},u="+ ".concat(c.buffer.toFixed(0),"s");this.$emit("buffer",u),this.$emit("stats",c)},onAdaptationEvent:function(e){this.log("[DashjsPlayer:onAdaptationEvent]",JSON.stringify(e)),this.getTracks()},onLoadedData:function(e){this.log("[DashjsPlayer] - onLoadedData",JSON.stringify(e)),this.getTracks()},onDownloadBitrate:function(e){this.log("[DashjsPlayer:onDownloadBitrate]",JSON.stringify(e))},unload:function(){this.log("[DashjsPlayer] - unload"),this.player&&(clearInterval(this.interval),this.player.destroy(),this.player=null)},log:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$emit.apply(this,["log"].concat(t))}}},Se=ke,_e=(a("8108"),Object(u["a"])(Se,ye,ge,!1,null,"6324e544",null)),we=_e.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hlsjs-player"})},Te=[],Ae=a("ba56"),Ce=a.n(Ae),Le={name:"HlsjsPlayer",props:["video"],data:function(){return{player:null}},mounted:function(){this.init()},methods:{init:function(){this.log("[HlsjsPlayer] - init"),Ce.a.isSupported()&&(this.player=new Ce.a),this.log("[HlsjsPlayer] - version:",Ce.a.version)},configure:function(){},load:function(e){this.player||this.init(),this.log("[HlsjsPlayer - load",e),this.player.loadSource(e),this.player.attachMedia(this.video),this.setPlayerEvents()},setPlayerEvents:function(){this.player.on(Ce.a.Events.LEVEL_SWITCHED,this.onAdaptationEvent),this.player.on(Ce.a.Events.BUFFER_APPENDED,this.onBufferLevel),this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("loadeddata",this.onLoadedData)},unload:function(){this.log("[HlsjsPlayer] - unload"),this.player&&(this.player.destroy(),this.player=null)},selectTrack:function(e){this.log("[HlsjsPlayer] - selectTrack",e),this.player.currentLevel=e},getTracks:function(){this.log("[HlsjsPlayer] - getTracks");var e=this.player.levels,t=e[this.player.currentLevel],a=[];e.forEach((function(e,n){var i={id:n,name:"".concat(e.bitrate," (").concat(e.name,")"),active:e===t};a.push(i)})),a=a.sort((function(e,t){return e.name-t.name})),this.$emit("tracks",a)},enableAdaptation:function(e){this.log("[HlsjsPlayer] - enableAdaptation",e),this.player.autoLevelCapping=e?1:-1},onLoadedData:function(e){this.log("[HlsjsPlayer] - onLoadedData",JSON.stringify(e)),this.getTracks()},onAdaptationEvent:function(e){this.log("[HlsjsPlayer:onAdaptationEvent]",JSON.stringify(e)),this.getTracks()},onBufferLevel:function(){for(var e=0,t=0,a=this.video,n=a.currentTime,i=a.buffered,r=0;r<i.length;r++)if(i.start(r)<=n&&i.end(r)>=n){t=i.end(r)-n,e=n-i.start(r);break}var s="- ".concat(e.toFixed(0),"s / + ").concat(t.toFixed(0),"s");this.$emit("buffer",s)},onTimeUpdate:function(){var e=this.player.levels,t=e[this.player.currentLevel],a={width:t.width,height:t.height,bitrate:t.bitrate};this.$emit("stats",a)},log:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$emit.apply(this,["log"].concat(t))}}},je=Le,xe=(a("c38a"),Object(u["a"])(je,Ee,Te,!1,null,"5b6fb145",null)),De=xe.exports,$e=(a("160f"),a("42b7"),{name:"Player",components:{Controls:L,Tracks:M,Settings:G,ShakaPlayer:le,HasPlayer:ve,DashjsPlayer:we,HlsjsPlayer:De,Stats:ee},props:{},data:function(){return{selectedPlayer:"ShakaPlayer",autoplay:!0,controls:!1,logs:[],probe:null,video:null,tracks:[],stats:{},buffer:"0",controlkey:0}},computed:{},created:function(){this.init()},mounted:function(){this.video=this.$refs.video},methods:{init:function(){this.log("[player] - init"),this.probeData()},onChangePlayer:function(e){this.log("[player] - changeplayer",e),this.selectedPlayer=e},probeData:function(){var e=this;this.log("[player] - probeSupport"),E.probeSupport().then((function(t){e.probe=t}))},load:function(e){var t=e.url,a=e.licenseUrl,n=e.drm;this.$refs.player.load(t,a,n)},unload:function(){this.$refs.player.unload(),this.stats={},this.buffer="0"},play:function(){var e=this.$refs.player.video;e.play()},pause:function(){var e=this.$refs.player.video;e.pause()},onGetTracks:function(e){this.log("[player] - onGetTracks"),this.tracks=e},onChangeTrack:function(e){this.log("[player] - onChangeTrack",e),this.$refs.player.selectTrack(e)},onEnableAdaptation:function(e){this.log("[player] - onEnableAdaptation",e),this.$refs.player.enableAdaptation(e)},onStats:function(e){this.stats=e},onBuffer:function(e){this.buffer=e},log:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];console.log(t.join(" ")),this.logs=this.logs.concat(t.join(" "))}}}),He=$e,Me=(a("9a1d"),Object(u["a"])(He,b,P,!1,null,"27b93060",null)),Oe=Me.exports,Be={name:"app",components:{Header:p,Player:Oe,Footer:g}},Ue=Be,Fe=(a("034f"),Object(u["a"])(Ue,i,r,!1,null,null,null)),Ne=Fe.exports,Re=a("8c4f"),Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("Player")],1)},qe=[],Ve={name:"home",components:{Player:Oe}},Qe=Ve,Ie=Object(u["a"])(Qe,Je,qe,!1,null,null,null),We=Ie.exports;n["a"].use(Re["a"]);var Ge=new Re["a"]({routes:[{path:"/",name:"home",component:We}]});n["a"].config.productionTip=!1,new n["a"]({router:Ge,render:function(e){return e(Ne)}}).$mount("#app")},"61f6":function(e,t,a){},6605:function(e,t,a){"use strict";a("7da1")},"7da1":function(e,t,a){},8108:function(e,t,a){"use strict";a("f209")},"832b":function(e,t,a){"use strict";a("ddbe")},"85ec":function(e,t,a){},"9a1d":function(e,t,a){"use strict";a("a659")},a659:function(e,t,a){},b24d:function(e,t,a){},b66e:function(e){e.exports=JSON.parse('{"items":[{"name":"Custom","submenu":[{"name":"Custom","url":""}]},{"name":"DASH","submenu":[{"name":"Tears of Steel (DASH Widevine)","url":"https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel-dash-widevine.ism/.mpd"},{"name":"Tears of Steel (DASH PlayReady)","url":"https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel-dash-playready.ism/.mpd"},{"name":"Tears of Steel (DASH Clear)","url":"https://storage.googleapis.com/shaka-demo-assets/tos-ttml/dash.mpd"},{"name":"Tears of Steel (DASH Clear) 2","url":"https://storage.googleapis.com/shaka-demo-assets/tos-ttml/dash.mpd2"},{"name":"Tears of Steel (DASH Clear HEVC)","url":"https://demo.unified-streaming.com/video/tears-of-steel/tears-of-steel-hevc.ism/.mpd"},{"name":"Angel One (multicodec, multilingual)","url":"https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd"},{"name":"Angel One (multicodec, multilingual, Widevine)","url":"https://storage.googleapis.com/shaka-demo-assets/angel-one-widevine/dash.mpd"},{"name":"Sintel 4k (multicodec)","url":"https://storage.googleapis.com/shaka-demo-assets/sintel/dash.mpd"},{"name":"Big Buck Bunny","url":"https://dash.akamaized.net/dash264/TestCases/1c/qualcomm/2/MultiRate.mpd"},{"name":"SegmentTemplate without manifest updates (livesim)","url":"https://livesim.dashif.org/livesim/testpic_2s/Manifest.mpd"}]},{"name":"MSS","submenu":[{"name":"Super Speedway (Smooth Streaming Clear)","url":"https://playready.directtaps.net/smoothstreaming/SSWSS720H264/SuperSpeedway_720.ism/Manifest"},{"name":"Super Speedway (Smooth Streaming PlayReady)","url":"https://playready.directtaps.net/smoothstreaming/SSWSS720H264PR/SuperSpeedway_720.ism/Manifest"}]},{"name":"HLS","submenu":[{"name":"Big Buck Bunny","url":"https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8"}]}]}')},c38a:function(e,t,a){"use strict";a("61f6")},c9c6:function(e,t,a){"use strict";a("106f")},d137:function(e,t,a){"use strict";a("3eec")},ddbe:function(e,t,a){},edac:function(e,t,a){},f209:function(e,t,a){}});
//# sourceMappingURL=app.0e5ba914.js.map